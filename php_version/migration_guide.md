# راهنمای مهاجرت به نسخه PHP استخراج کننده لینک تلگرام

این راهنما به شما کمک می‌کند تا از نسخه Python به نسخه PHP مهاجرت کنید.

## چرا مهاجرت کنیم؟

### مزایای MadelineProto نسبت به Telethon

1. **عملکرد بهتر**: MadelineProto در PHP عملکرد بهتری نسبت به Telethon در Python دارد، به خصوص در پردازش تعداد زیادی از پیام‌ها و کانال‌ها.

2. **پایداری بیشتر**: MadelineProto به طور مداوم به‌روزرسانی می‌شود و از همه ویژگی‌های API تلگرام پشتیبانی می‌کند.

3. **امنیت بیشتر**: مدیریت بهتر سشن‌ها و رمزنگاری قوی‌تر در MadelineProto.

4. **مدیریت آسان‌تر حساب‌های کاربری**: MadelineProto امکانات بیشتری برای مدیریت حساب‌های کاربری ارائه می‌دهد.

5. **محدودیت‌های کمتر از سمت تلگرام**: MadelineProto به گونه‌ای طراحی شده که کمتر با محدودیت‌های تلگرام مواجه می‌شود.

### مزایای معماری جدید

1. **کد تمیزتر و مدولار**: معماری جدید از الگوی MVC استفاده می‌کند که باعث خوانایی بیشتر کد می‌شود.

2. **مقیاس‌پذیری بهتر**: معماری جدید به راحتی قابل گسترش است و می‌توان ویژگی‌های جدید را به آن اضافه کرد.

3. **جداسازی بهتر وظایف**: هر بخش از برنامه وظیفه مشخصی دارد و جداسازی بهتری بین لایه‌های مختلف وجود دارد.

4. **تست‌پذیری بهتر**: معماری جدید امکان نوشتن تست‌های واحد را فراهم می‌کند.

## چگونگی مهاجرت

### داده‌ها و تنظیمات

1. **لینک‌ها**: لینک‌های ذخیره شده در فایل `links_data.json` را می‌توان مستقیماً به نسخه جدید منتقل کرد.

2. **حساب‌های کاربری**: حساب‌های کاربری در فایل `accounts_data.json` ذخیره می‌شوند، اما باید دوباره به سیستم متصل شوند.

3. **تنظیمات Avalai**: تنظیمات API هوش مصنوعی در فایل `avalai_settings.json` ذخیره می‌شوند و قابل انتقال هستند.

### گام‌های مهاجرت

1. هر دو نسخه Python و PHP را برای مدتی موازی اجرا کنید تا از صحت عملکرد نسخه جدید اطمینان حاصل کنید.

2. فایل‌های داده را از نسخه Python به نسخه PHP کپی کنید.

3. حساب‌های کاربری را در نسخه جدید اضافه و مجدداً متصل کنید.

4. کانال‌ها و وب‌سایت‌های منبع را بررسی کنید تا از درستی آن‌ها اطمینان حاصل کنید.

5. API Key های مورد نیاز را در فایل `.env` تنظیم کنید.

## مقایسه ساختار کد

| نسخه Python | نسخه PHP | توضیحات |
|-------------|----------|---------|
| `link_manager.py` | `src/Services/LinkManager.php` | مدیریت لینک‌ها |
| `bot.py` | `src/Services/TelegramBot.php` | ارتباط با API تلگرام |
| `user_accounts.py` | `src/Services/UserAccount.php` | مدیریت حساب‌های کاربری |
| `avalai_api.py` | `src/Services/AvalaiApi.php` | ارتباط با API هوش مصنوعی |
| Route handlers در `app.py` | `src/Controllers/` | کنترلرهای مختلف |
| Templates در `templates/` | `templates/` | قالب‌های HTML |